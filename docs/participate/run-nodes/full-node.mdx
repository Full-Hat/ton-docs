import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Full Node


:::caution Node usage on personal local machine
You shouldn't run any type of node on your personal local machine for long, even if it is satisfy the requirements. Nodes actively use disks and can damage them fast.
:::

To install and manage your own node, use the **MyTonCtrl** open-source tool developed by the TON Foundation. The majority of TON Nodes are reliable and tested by **MyTonCtrl**.

[MyTonCtrl](https://github.com/ton-blockchain/mytonctrl) is a console application that is a convenient wrapper for fift, lite-client, and validator-engine-console. It has been specifically developed to streamline wallet, domain, and validator management tasks on the Linux operating system.

We are actively seeking feedback about the installation process. If you have any questions or suggestions, please [contact us](https://t.me/Alexgton).

## OS requirements

We highly recommend installing MyTonCtrl using the supported operating systems:
* Ubuntu 20.04
* Ubuntu 22.04
* Debian 11

## Hardware requirements

### With validator

- 16 cores CPU
- 128 GB RAM
- 1TB NVME SSD _OR_ Provisioned 64+k IOPS storage
- 1 Gbit/s network connectivity
- public IP address (_fixed IP address_)
- 16 TB/month traffic on peak load

:::info Be ready for peak loads
Typically you'll need at least a 1 Gbit/s connection to reliably accommodate peak loads (the average load is expected to be approximately 100 Mbit/s).
:::

### Recommended Providers

The TON Foundation recommends the following providers for running a Validator:

| Cloud Provider   | Instance Type         | CPU            | RAM    | Storage           | Network      | Public IP                         | Traffic       |
|------------------|-----------------------|----------------|--------|-------------------|--------------|-----------------------------------|---------------|
| GCP              | `n2-standard-16`      | `32 vCPUs`     | `128GB`| `1TB NVMe SSD`    | `16 Gbps`    | Reserve a static external IP      | `16 TB/month`|
| Alibaba Cloud    | `ecs.g6.4xlarge`      | `32 vCPUs`     | `128GB`| `1TB NVMe SSD`    | `Up to 10 Gbps` | Bind an Elastic IP           | `16 TB/month`|
| Tencent Cloud    | `M5.4XLARGE`          | `32 vCPUs`     | `128GB`| `1TB NVMe SSD`    | `Up to 10 Gbps` | Associate an Elastic IP       | `16 TB/month`|
| Vultr            | `bare metal Intel E-2388G` | `16 Cores / 32 Threads` | `128GB` | `1.92TB NVMe SSD` | `10 Gbps` | Fixed IP address included with instance | `16 TB/month`|
| DigitalOcean     | `general purpose premium Intel` | `32 vCPUs` | `128GB` | `1TB NVMe SSD` | `10 Gbps` | Fixed IP address included with instance | `16 TB/month`|
| Latitude         | `c3.medium.x86`       | `16 Cores / 32 Threads` | `128GB` | `1.9TB NVMe SSD` | `10 Gbps` | Fixed IP address included with instance | `16 TB/month`|

:::info
**Note:** Prices, configurations, and availability may vary. It is advisable to always check the official documentation and pricing pages of the respective cloud provider before making any decisions.
:::

## Run a Node (video)

[//]: # (<ReactPlayer controls={true} style={{borderRadius:'10pt', margin:'15pt auto', maxWidth: '100%'}} url='/docs/files/setup_validator.mp4' />)

Please, check this video step-by-step tutorial to start promptly:

<video style={{borderRadius:'10pt', margin:'auto', width: '100%', maxWidth: '100%'}} controls={true}>
    <source src="/files/setup_validator.mp4" type="video/mp4" />
</video>

## Run a Node (text)

### Switch to non-root user

If you don't have **non-root** user, you can create this with the following steps (otherwise skip first two steps and go to the third).

1. Login as root and create new user:

```bash
sudo adduser <username>
```

2. Add your user to the sudo group:

```bash
sudo usermod -aG sudo <username>
```

3. Log into the new user

```bash
su - username
```

### Install the MyTonCtrl

Download and run the installation script from the **non-root** user account with **sudo** privileges:

<Tabs groupId="operating-systems">
  <TabItem value="ubuntu" label="Ubuntu">

  ```bash
  wget https://raw.githubusercontent.com/ton-blockchain/mytonctrl/master/scripts/install.sh
  sudo bash install.sh -m full -d
  ```

  </TabItem>
  <TabItem value={'debian'} label={'Debian'}>

  ```bash
  wget https://raw.githubusercontent.com/ton-blockchain/mytonctrl/master/scripts/install.sh
  su root -c 'bash install.sh -m full -d'
  ```

  </TabItem>
</Tabs>

* `-m full` - Full node installation mode.
* `-d` - **mytonctrl** will download a [dump](https://dump.ton.org/) of the latest blockchain state.
This will reduce synchronization time by several times.
* `-c <path>` - If you want to use not public liteservers for synchronization. _(not required)_
* `-i` - Ignore minimum requirements, use it only if you want to check compilation process without real node usage.

There are two installation modes: lite and full. They both compile and install TON components. However the lite version does not configure or run the node/validator.

### Run the mytonctrl

1. Run `MyTonCtrl` console **from the local user account used for installation**:

  ```sh
  mytonctrl
  ```

2. Check the `MyTonCtrl` status using the `status` command:

  ```sh
  status
  ```


The following statuses should be displayed:

* **mytoncore status**: Should be in green.
* **local validator status**: Should also be in green.
* **local validator out of sync**: Initially, a large number is displayed. As soon as the newly created validator connects with other validators, the number will be around 250k. As synchronization progresses, this number decreases. When it falls below 20, the validator is synchronized.

Example of the **status** command output:

![status](https://raw.githubusercontent.com/ton-blockchain/mytonctrl/master/screens/mytonctrl-status.png)

:::caution Make sure you have same output for status
For all nodes type **Local Validator status** section should appear.
Otherwise, [check troubleshooting section](/participate/run-nodes/full-node#status-command-displays-without-local-node-section) and [check node logs](/participate/run-nodes/full-node#check-the-node-logs).
:::

Wait until `Local validator out of sync` becomes less than 20 seconds.

## Tips & Tricks

### List of available commands

- You can use `help` to get a list of available commands:

![Help command](/img/docs/full-node/help.jpg)

### Check the mytonctrl logs

- To check **mytonctrl** logs, open `~/.local/share/mytoncore/mytoncore.log` for a local user or `/usr/local/bin/mytoncore/mytoncore.log` for Root.

![logs](https://raw.githubusercontent.com/ton-blockchain/mytonctrl/master/screens/manual-ubuntu_mytoncore-log.png)

### Check the node logs

Check the node logs upon failure:

```bash
tail -f /var/ton-work/log.thread*
```
